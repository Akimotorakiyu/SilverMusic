# 音律基础

::: tip
Silver Music的音律不同于教科书上的音律，如有疑问和建议，请开[issue](https://github.com/SilverLeaves/SilverMusic/issues)。
:::

::: warning
Silver Music的音律不同于教科书上的音律，如有不适，敬请离开！

:::


## 响度

<center class="footer"><img :src="$withBase('/basic/db.png')" alt="频响曲线"></center >


由频响曲线可知，人耳对高音敏感。频率在20-20000Hz。

## 泛音列
<center class="footer"><img :src="$withBase('/basic/wave.png')" alt="select"></center >


乐器频谱中所包含的频率，主要由乐器所产生的驻波以及驻波的附近频率的波决定。不同乐器的发声材质不一样，管乐是空气柱振动发声，弦乐是琴弦振动发声，鼓则是鼓面振动发声。
而在这些振动的材质上，只有驻波以及驻波的附近频率的波能产生较为稳定的振动，其他的波会很快耗散消失。后面默认为弦乐对应的计算方法。

基波对应的波节点仅出现在弦的两端，即整根上下振动着的弦长为半个波长。
$$f_0=\frac{v}{\lambda}=\frac{v}{2l}$$
在一根振动着的的弦上可能存在的驻波频率——泛音列是基频的整数倍。
$$f_n=nf_0$$
$$n\in{N^{+}}$$

音高在正常情况下由最低驻波以及驻波的附近频率的波中响度最大频率综合决定。**因为基波的振幅一般最大**，所以对于钢琴在$a_1$附近基本由基波频率决定，**在后文中，所有的音律都以基波为标准进行音高分析。**

## 听感

因为泛音列内存在倍频的关系，所以在倍频间的泛音列近似。
即每一个倍频的乐器音波听起来是相近的，低频乐器音波泛音列包含高频乐器音波泛音列。

例如基频440HZ的乐器音波和基频880HZ的乐器音波

* 基频440HZ的乐器音波泛音列：440、880、... ... 、n·440
* 基频880HZ的乐器音波泛音列：880、... ... 、n·880

由于同一种乐器的乐器音波的泛音列的响度具有近似的时间分布特征
所以每一个倍频的乐器音波听起来也是相近的

例如基频440HZ的$a_1$钢琴音波和基频880HZ的$a_2$钢琴音波

## 音色

音色即为频谱上频率的振幅的时值(时(时间)、值(响度))分布抑或者简单来说是泛音列的时值(时(时间)、值(响度))分布。

简单来说，音色的相关要素为

* 频率分布
* 频率的振幅分布
* 不同频率振幅随时间的变化

泛音列附近频率的音波同样对音色有非常重要的作用，它们对音色起着完善和提高的作用，甚至主导音色听感。

## 拍

本质为音波的干涉，当两个频率的音叠加在一起的时候会产生拍,拍频为$f_2-f_1$。（证略，参见《大学物理》拍相关章节）


## 和谐

::: tip
当前的并未有令人满意的和谐的解释。

我的一个解释是：在一个音高区间内，当不同的音之间产生的拍的成简单相近数字关系以及简单的拍比的时候，为和谐。

同时和弦本构成身不能过于复杂，否则听感会变得杂乱。
:::

**虽然线性关系数目的拍简单的和谐，但是音律中的音叠置产生的拍可不是线性的。嗯。。不过思路还是要有的。**

**由于高音区拍数较大，在复杂音乐环境中难以分辨，故和弦往往需要位于低音区。**



## 音律划分

根据泛音列与听感的关系，对于任意两相邻音高区间的泛音列的波，将一个音高区间划分为n个音律数，对于音律数上任意一音有

$$f(x+n)=2f(x)$$

对比反比例函数形式和指数形式，发现指数形式更接近的直线，产生的拍也会更和谐,所以我们选择指数形式。（绿色线条为指数，紫色为反比例行形式）。
（这里使用的是两个简单的可以变换到多音律的两个函数作为原型函数来进行参考）（指数：y=2^x反比例：y=-2/(x-2)）（**对于指数式最大偏离量约为0.086$**）

<img :src="$withBase('/basic/select.png')" alt="select">

可得$f(x)$的关系式

$$f(x)=A2^{\frac{x}{n}}$$
式中：

$A$为规定的基础频率，Hz；

整理得音符频率的函数表达定义：

$$f=a_1 2^{\frac{x}{n}}$$

$$x,n\in{N^{+}}$$

式中：

$f$为音高对应的频率，Hz；

$a_1$为标准音频率，目前国际标准$a_1$的频率为440Hz；

$n$为每音高内被划分出的音的个数，目前国际通行的n的个数为12，即12音律；

$x$为相对于$a_1$按键的位置，$x=0$得到$a_1$本身频率，$x=n$得到$a_2$频率。

### 音律数

为了音律有一定的灵活性——升降半音，所以音律必须为偶数。但是又不能过于繁复。

对于10音律，包含2、5音律

对于12音律，包含2、3、4、6音律

对于14音律，包含2、7音律

对于16音律，包含2、4、8音律

其中1少音律无意义

故

4音包含2、4音

5音包含5音

6音包含2、3音

7音包含7音

8音包含2、4、8音

综上，10、12、14、16为合理的音律，5、6、7、8为合理的音。

### 和谐叠置数

**由于高音区拍数较大，在复杂音乐环境中难以分辨，故和弦往往需要位于低音区。**
叠置时的拍的比，不可过于复杂，也不可过于微妙。

* $$p_1=A2^{\frac{b}{n}}$$
* $$p_12=A2^{\frac{2b}{n}}$$
* $$p_2=A(2^{\frac{2b}{n}}-2^{\frac{b}{n}})$$

* $$\alpha1 =\frac{p_{12}}{p_1}=2^{\frac{b}{n}}$$
* $$\alpha2 =\frac{p_2}{p_1}=2^{\frac{b}{n}}-1$$
* $$\alpha3 =\frac{p_2}{p_2}=1-\frac{1}{2^{\frac{b}{n}}}$$

式中：

$\alpha$为和谐指数；

$b$为叠置的音律数；

$n$为音律数。

当不同的音互为谐音的时候，每一个音高内区间内泛音列内的音也和谐。

**计算上公式参数，对于10音律，叠置数为2-5个半音为较合适**

**计算上公式参数，对于12音律，叠置数为2-5个半音为较合适**

**计算上公式参数，对于14音律，叠置数为2-6个半音为较合适**

**计算上公式参数，对于16音律，叠置数为2-6个半音为较合适**

## 唱名（音）与音律

唱名与音律的关系是相对的，不是绝对的，他们之间存在可以改变的映射关系，比如在转调的时候，它们之间的关系或者说映射就会相对改变。

## 琴键

这是一个音高区间的琴键示意，其从左到右对应的按键为：

| 黑键 | A#  | B#  | C#  | D#  | E#  | F#  | G#  | H#  |···|
| ---- | --- | --- | --- | --- | --- | --- | --- | --- |---|

| 白键 | A   | B   | C   | D   | E   | F   | G   | H   |···| A   |
| ---- | --- | --- | --- | --- | --- | --- | --- | --- |---| --- |

**注意，这里所有主音之间的音程都为全音倍数**

## 音程

**注意，这里所有主音之间的音程都为全音倍数**

|音程/半音|称谓|示例（对于八音十六律）|
|---|---|---|
|0|零度|A-A|
|1|半度|A-A#|
|2|一度|A-B|
|3|一度半|A-B#|
|4|二度|A-C|
|5|二度半|A-C#|
|6|三度|A-D|
|7|三度半|A-D#|
|8|四度|A-E|
|9|四度半|A-E#|
|10|五度|A-F|
|11|五度半|A-F#|
|12|六度|A-A|


|音程/半音|称谓|示例（对于八音十六律）|
|---|---|---|
|0|零度|A-A|
|1|半度|A-A#|
|2|一度|A-B|
|3|一度半|A-B#|
|4|二度|A-C|
|5|二度半|A-C#|
|6|三度|A-D|
|7|三度半|A-D#|
|8|四度|A-E|
|9|四度半|A-E#|
|10|五度|A-F|
|11|五度半|A-F#|
|12|六度|A-G|
|13|六度半|A-G#|
|14|七度|A-H|
|15|七度半|A-H#|
|16|八度|A-A|

如上依次类推。


<br/>
<center class="footer">我们所弹奏的每个平凡的音符，也许就是连续演奏的奇迹。</center >